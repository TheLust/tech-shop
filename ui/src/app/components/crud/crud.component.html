<div class="mat-elevation-z8">
    <table mat-table
           [dataSource]="products">
        <ng-container *ngFor="let column of columns | keyvalue"
                      [matColumnDef]="column.key">
            <th mat-header-cell
                *matHeaderCellDef>{{ column.key.toUpperCase() }}</th>
            <td mat-cell
                *matCellDef="let element"
                [attr.data-label]="column.key"> {{ column.value !== null ? element[column.value] : element[column.key] }} </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="Array.from(columns.keys())"></tr>
        <tr mat-row
            *matRowDef="let element; columns: Array.from(columns.keys())"
            (click)="showProduct(element, categories)"></tr>
    </table>

    <mat-paginator [length]="products.length"
                   [pageSize]="10"
                   [pageSizeOptions]="[5, 10, 25, 100]"
                   aria-label="Select page"></mat-paginator>
</div>
